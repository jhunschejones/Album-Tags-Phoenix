var connectionsPage={closeToast:function(){var a=document.querySelector(".toast");M.Toast.getInstance(a).dismiss()},closeToastsOnClick:function(a){a=a.target.parentNode;(a.classList&&a.classList.contains("toast")||"toast-container"==a.id)&&connectionsPage.closeToast()},deleteConnection:function(a,c){if(confirm("Are you sure you want to delete this connection? You cannot undo this operation.")){var d=parseInt(window.location.pathname.replace("/connections/","").replace("/edit","")),b=new XMLHttpRequest;
b.onreadystatechange=function(){4===b.readyState&&(200<=b.status&&300>b.status?(removeSelectedElement("#connection-"+c),M.toast({html:b.responseText.replace(/"/g,"")})):M.toast({html:"Unable to delete connection"}))};b.open("DELETE","/connections/"+d);b.setRequestHeader("Content-Type","application/json");b.setRequestHeader("X-CSRF-Token",CSRF_TOKEN);b.send(JSON.stringify({parentAlbum:a,childAlbum:c}))}}};
(function(){document.addEventListener("DOMContentLoaded",function(){document.addEventListener("click",function(a){connectionsPage.closeToastsOnClick(a)},{passive:!0})},{passive:!0})})();
